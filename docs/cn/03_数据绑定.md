## 数据绑定

### 前言

`shear.js` 内部已经封装好了jQuery API，完全当成 jQuery 使用就行；

后续我们将 shear.js 封装的组件称为 `shear组件`，shear.js 定义的元素称为 `shear元素`；

### render callback

当 shear元素 渲染完成后，会执行 render callback

```html
<script>
shear.register({
    ele: $(`
        <div sv-register="t-tag">
            <div class="t-tag-inner" sv-content></div>
        </div>
    `),
    render:function($ele){
        $ele.css("color","red");
    }
});
</script>
<body>
    <t-tag id="b" sv-ele>I am tag3</t-tag>
</body>
```

预览图是这样的：

![t-tag test2](../img/03_t_tag_01.png)

当 `#b` 内部的html填充完成后，会执行定义在register上的render函数，而第一个参数就是被渲染的元素；

所以上面案例执行render函数后的 html 如下：

```html
<t-tag id="b" sv-render="1" style="color: red;">
    <div class="t-tag-inner" sv-content>I am tag3</div>
</t-tag>
```

### 声明式渲染

参考了众多 MVVM 的框架，`shear组件` 也能使用声明式渲染的语法，但是只能在注册模板中使用；

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>t-tag test4</title>
    <script src="../test/smartjq.js"></script>
    <script src="../src/shear-no-smartjq.js"></script>
    <style>
        t-tag {
            display: block;
        }
        
        t-tag .t-tag-inner {
            width: 200px;
            height: 100px;
            text-align: center;
            line-height: 50px;
            background-color: #eee;
        }
    </style>
    <script>
        shear.register({
            ele: $(`
                <div sv-register="t-tag">
                    <div class="t-tag-inner">
                        <div style="color:blue">{{message}}</div>
                        <div sv-content></div>
                    </div>
                </div>
            `),
            data: {
                message: "I am message"
            },
            render: function($ele) {
                $ele.css("color", "red");
            }
        });
    </script>
</head>

<body>
    <t-tag id="a" sv-ele>I am tag4</t-tag>
</body>

</html>
```

预览图效果如下：

![t-tag test2](../img/03_t_tag_02.png)
